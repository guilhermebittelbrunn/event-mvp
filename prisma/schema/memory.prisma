model MemoryModel {
  id          String  @id @default(uuid()) @db.Uuid
  eventId     String  @map("event_id") @db.Uuid
  fileId      String? @unique @map("file_id") @db.Uuid
  identifier  String?
  description String?
  ipAddress   String  @map("ip_address")
  message     String?
  hidden      Boolean @default(false)
  // @TODO: implement status to check if the memory is valid or not after implement queue system

  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt DateTime  @updatedAt @map("updated_at") @db.Timestamptz()
  deletedAt DateTime? @map("deleted_at") @db.Timestamptz()

  event EventModel @relation(fields: [eventId], references: [id])
  file  FileModel? @relation(fields: [fileId], references: [id])

  @@index([eventId])
  @@index([createdAt])
  @@map("memory")
}
