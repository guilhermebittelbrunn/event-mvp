model FileModel {
  id   String @id @default(uuid()) @db.Uuid
  name String
  path String
  url  String
  size Int

  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt DateTime  @default(now()) @map("updated_at") @db.Timestamptz()
  deletedAt DateTime? @map("deleted_at") @db.Timestamptz()

  event  EventModel?
  memory MemoryModel?
}

model LogModel {
  id           String  @id @default(uuid()) @db.Uuid
  requestId    String? @map("request_id") @db.Uuid
  eventId      String? @map("event_id") @db.Uuid // nullable for compatibility with no cache solutions
  metadata     Json
  level        String  @default("info")
  service      String
  method       String?
  message      String?
  errorStatus  Int?    @map("error_status")
  errorMessage String? @map("error_message")
  errorStack   String? @map("error_stack")

  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz()

  @@map("log")
}
